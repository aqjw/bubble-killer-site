import{A as g,p as x,a as r,o as s,c as a,b as o,u as k,Z as w,w as n,d as e,t as i,f as m,k as _,F as f,l as C,g as v,e as B}from"./app-Ca4Kuy7W.js";import{D,_ as h}from"./CardTask-Cctqz2eO.js";import{_ as N}from"./AppLayout-D3NfNuBN.js";import"./Navbar-D-YTeW4p.js";const V={key:0},$={class:"flex justify-between items-center p-4"},F={class:"text-3xl font-bold"},M={class:"space-y-2"},j={class:"text-xs opacity-70 italic"},z={class:"text-xs opacity-70 italic"},S={key:0,class:"text-sm font-bold text-gray-700 mb-4"},T={class:"space-y-4"},q={key:1},O={__name:"Show",props:{task:{type:Object,required:!0}},setup(t){const l=t;return g(()=>{console.log("props.task.status",l.task.status),l.task.status!="cleaner_completed"&&setTimeout(()=>{x.visit(route("tasks.show",l.task.id))},1e4)}),(c,u)=>{const p=r("v-chip"),y=r("v-card"),b=r("v-btn");return s(),a(f,null,[o(k(w),{title:"Upload"}),o(N,null,{default:n(()=>[t.task.type==="multiple"?(s(),a("div",V,[o(y,{class:"bg-zinc-200 rounded-md mb-8",rounded:"lg",elevation:2},{default:n(()=>[e("div",$,[e("h1",F,i(t.task.original_filename),1),e("div",M,[o(p,{size:"small"},{default:n(()=>[m("ID: "+i(t.task.id),1)]),_:1}),e("div",j," Загружено "+i(k(D).toHuman(t.task.created_at,{parts:1}))+" назад ",1),e("div",z," Всего файлов в архиве "+i(t.task.subtasks.length),1)])])]),_:1}),t.task.subtasks.length?_("",!0):(s(),a("div",S," processing.. ")),e("div",T,[(s(!0),a(f,null,C(t.task.subtasks,d=>(s(),v(h,{key:d.id,task:d,onClick:B(A=>c.$inertia.visit(c.route("tasks.show",d.id)),["stop","prevent"])},null,8,["task","onClick"]))),128))])])):(s(),a("div",q,[t.task.parent_id?(s(),v(b,{key:0,to:c.route("tasks.show",t.task.parent_id),variant:"tonal",class:"text-none mb-4",color:"primary",density:"comfortable"},{default:n(()=>u[0]||(u[0]=[m(" Назад ")])),_:1},8,["to"])):_("",!0),o(h,{task:t.task},null,8,["task"])]))]),_:1})],64)}}};export{O as default};
